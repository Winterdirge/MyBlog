---
layout:     post
title:      图像处理之图像格式
subtitle:   细数常用图像数据格式
date:       2019-07-22 15:40:40 GMT+8
author:     "Yang Guang"
header-style: text
tags:
    - 图像处理
    - 图像格式
---

>工作中经常与图像打交道，开始的时候真的是傻傻分不清楚BGRA、JPEG、NV12这些东西。如果你对这些都门儿清，那么看本文可能真的是浪费你的时间。如果你对这些一知半解，那么看了本文你可能会收获一些东西。

### 前言

眼睛是心灵的窗户，是人们观察世界认识世界的纽带，想要感受世界的五彩缤纷，你需要一双可以成像的眼睛，这样你才可以观看大千世界的精彩画面。可以说图像潜伏在人类进化发展史中，与我们所有人都息息相关。

除此之外，图像有更加丰富更加生动的展现形式，可以展示一些无法用言语表达的东西，有一种一切尽在不言中的感觉，它可以给人无限的遐想空间，让你畅游其中。

那么图像到底是个啥呢，它在科学上又有怎样的定义呢？

### 两个概念

首先图像的概念，维基百科上有这样[一句话](https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%83%8F)：

>图像是人对视觉感知的物质再现。图像可以由光学设备获取，如照相机、镜子、望远镜及显微镜等；也可以人为创作，如手工绘画。图像可以记录、保存在纸质介质、胶片等等对光信号敏感的介质上。随着数字采集技术和信号处理理论的发展，越来越多的图像以数字形式存储。因而，有些情况下“图像”一词实际上是指数字图像。  
与图像相关的话题包括图像采集、图像制作、图像分析和图像处理等。  
图像分为静态影像，如图片、照片等，和动态影像，如影片等两种。  
图像是一种视觉符号。透过专业设计的图像，可以发展成人与人沟通的视觉语言，也可以是了解族群文化与历史源流的史料。世界美术史中大量的平面绘画、立体雕塑与建筑，也可视为人类由古自今文明发展的图像文化资产。

文中之后涉及到的图像，除非特别说明，基本上说的都是数字图像，因为纸质版的图像要么用来收藏，要么用来焚烧，没有特殊处理的必要。~~当然造假除外~~

其次，[图像处理的概念](https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86)：

>图像处理是指对图像进行分析、加工、和处理，使其满足视觉、心理或其他要求的技术。图像处理是信号处理在图像领域上的一个应用。当前大多数的图像均是以数字形式存储，因而图像处理很多情况下指数字图像处理。此外，基于光学理论的处理方法依然占有重要的地位。  
图像处理是信号处理的子类，与计算机科学、人工智能等领域有密切的关系。

图像处理一直都是一个比较热门的领域，当下较为火爆的AI、AR、VR技术，也都是基于计算机视觉与模式识别，它们中的绝大部分也都是通过图像处理来完成的。

图像真的是无处不在。

### 图像的存储格式

在个人电脑上浏览图像时，只需要双击鼠标就可以观看图像的具体内容，有没有人想过，这个从双击鼠标到图像展示的过程中到底发生了什么，进行了怎样的操作呢？不过这个过程不在本文的讨论范围之内，有兴趣的同学可以自行研究一下。

细心的同学可能已经发现，电脑上存储的图片会有不同的后缀名：`BMP`、`JPG`、`JPEG`、`GIF`、`TIF`、`PNG`、`SWF`、`PSD`、`CDR`、`DXF`、`UFO`、`AI`、`RIF`、`WMF`、`EMF`、`EPS`、`SVG`...

这些个后缀到底代表什么，大家都是图像为啥后缀还不一样呢，之间又有怎样差异呢？

操作系统的`文件系统`我们暂不深入研究，之后我会写专门的文章介绍，先来看一下这些个后缀到底是个啥。

#### Filename extension 文件扩展名

这些个后缀有一个学名叫做Filename extension(文件扩展名)，也就是我们经常说的这是`什么什么格式`的文件，这个格式的文件呢需要由特殊的程序来打开。比如，JPG格式文件需要由图片软件来查看，`.xcodeproj`是Xcode生成的工程文件，需要由Xcode打开。

虽然不同后缀文件需要由不同软件来查看，但是这并不代表别的软件无法查看其他格式的文件，因为计算机上的一个个文件本质上就是一段段的二进制数据，只要有权限读取这些数据，就可以查看文件内容。

不同的后缀代表文件在内存中的排列方式，只有知道了它的排列方式，才知道文件的某个部分记录的是什么内容，进而可以正确读取文件数据。

以BMP格式文件为例进行说明。

只是现代操作系统将后缀和软件关联在了一起，或者可以让你手动选择特定格式文件的打开方式，也就是说这些个软件知道特定格式文件的文件结构，进而可以通过特定的方式读取文件内容，最终展示给用户。

如果修改了后缀名，文件内容其实并不会修改，这样就会告诉别人你要用这种方式读取文件，但其实它数据的排列方式还是之前那种类型，所以也就无法正常解析这个文件。

### TO BE CONTINUED
### 图像在内存中排列方式
### iOS中的图像处理